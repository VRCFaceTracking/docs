"use strict";(self.webpackChunkvrcft_docs=self.webpackChunkvrcft_docs||[]).push([[3252],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>u});var o=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,i=function(e,t){if(null==e)return{};var a,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=o.createContext({}),c=function(e){var t=o.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},l=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(a),m=i,u=d["".concat(p,".").concat(m)]||d[m]||h[m]||n;return a?o.createElement(u,r(r({ref:t},l),{},{components:a})):o.createElement(u,r({ref:t},l))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,r=new Array(n);r[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:i,r[1]=s;for(var c=2;c<n;c++)r[c]=a[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5340:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>c});var o=a(87462),i=(a(67294),a(3905));const n={},r="iFacialMocap (Desktop Application)",s={unversionedId:"hardware/desktop/webcam/ifacialmocap-webcam",id:"hardware/desktop/webcam/ifacialmocap-webcam",title:"iFacialMocap (Desktop Application)",description:"iFacialMocap for Nvidia uses a Webcam with either RTX Nvidia cards or MediaPipe for Face Tracking.",source:"@site/docs/hardware/desktop/webcam/ifacialmocap-webcam.mdx",sourceDirName:"hardware/desktop/webcam",slug:"/hardware/desktop/webcam/ifacialmocap-webcam",permalink:"/docs/hardware/desktop/webcam/ifacialmocap-webcam",draft:!1,editUrl:"https://github.com/VRCFaceTracking/docs/edit/master/docs/hardware/desktop/webcam/ifacialmocap-webcam.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"FoxyFace",permalink:"/docs/hardware/desktop/webcam/foxyface"},next:{title:"MediaPipe",permalink:"/docs/hardware/desktop/webcam/mediapipe"}},p={},c=[{value:"Setup",id:"setup",level:2},{value:"Setting up iFacialMocap",id:"setting-up-ifacialmocap",level:2},{value:"Camera input",id:"camera-input",level:3},{value:"Calibration",id:"calibration",level:3},{value:"Adjusting Weight and Smoothing",id:"adjusting-weight-and-smoothing",level:3},{value:"Tracked Blendshapes",id:"tracked-blendshapes",level:3},{value:"Pros &amp; Cons",id:"pros--cons",level:3},{value:"Module",id:"module",level:2}],l={toc:c},d="wrapper";function h(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ifacialmocap-desktop-application"},"iFacialMocap (Desktop Application)"),(0,i.kt)("p",null,"iFacialMocap for Nvidia uses a Webcam with either RTX Nvidia cards or MediaPipe for Face Tracking."),(0,i.kt)("p",null,"This guide will walk-through setting up the ",(0,i.kt)("em",{parentName:"p"},"iFacialMocap")," PC App from the ",(0,i.kt)("a",{parentName:"p",href:"https://apps.microsoft.com/detail/9n01fgs2zk3x?hl=en-US&gl=US"},"Microsoft Store")," and the corresponding VRCFT tracking module."),(0,i.kt)("h2",{id:"setup"},"Setup"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For the best quality, use the ",(0,i.kt)("strong",{parentName:"p"},"Nvidia BROADCAST")," Input which requieres an Nvidia RTX Series Card (RTX 2000 or above)."),(0,i.kt)("p",{parentName:"admonition"},"You can run this without an Nvidia RTX Card by changing the Input to Mediapipe, but expect more limitations on the tracking quality."),(0,i.kt)("p",{parentName:"admonition"},"You ",(0,i.kt)("strong",{parentName:"p"},"MUST")," have good lightning to have good results, even more if using Mediapipe.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("strong",{parentName:"p"},"INPUT")," called ",(0,i.kt)("em",{parentName:"p"},"iFacialmocap")," can be ignored. It allows you to connect either an iPhone or Android device running iFacialMocap / MeowFace, but you should be connecting them directly to VRCFT with their respective modules rather than directing them through this app.")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Install ",(0,i.kt)("a",{parentName:"li",href:"https://apps.microsoft.com/detail/9n01fgs2zk3x?hl=en-US&gl=US"},"iFacialMocap for Nvidia BROADCAST")," from the Microsoft Store."),(0,i.kt)("li",{parentName:"ol"},"If you wish to use an RTX Card, install the latest ",(0,i.kt)("a",{parentName:"li",href:"https://www.nvidia.com/en-us/geforce/broadcasting/broadcast-sdk/resources/"},"Nvidia AR SDK")," from the webpage.")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Make sure the AR SDK is downloaded for YOUR series of cards or it may not work correctly.\nGrab the ",(0,i.kt)("em",{parentName:"p"},"latest")," version of the SDK which should also be the version used by Vtube Studio. You can check this below the download options for the AR SDK column.")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},'Start VRCFaceTracking and install the "',(0,i.kt)("strong",{parentName:"li"},"iFacialMocap"),'" VRCFT module from the ',(0,i.kt)("a",{target:"_blank",href:a(34144).Z+"#module-registry"},"VRCFaceTracking Module Registry"),"."),(0,i.kt)("li",{parentName:"ol"},'Start the "',(0,i.kt)("strong",{parentName:"li"},"iFacialMocap Powered by Nvidia BROADCAST"),'" app from your taskbar.'),(0,i.kt)("li",{parentName:"ol"},"Change the ",(0,i.kt)("strong",{parentName:"li"},"INPUT")," to either Nvidia Broadcast (if using an RTX Card) or Mediapipe."),(0,i.kt)("li",{parentName:"ol"},"Change the ",(0,i.kt)("strong",{parentName:"li"},"OUTPUT")," to iFacialMocap.")),(0,i.kt)("h2",{id:"setting-up-ifacialmocap"},"Setting up iFacialMocap"),(0,i.kt)("h3",{id:"camera-input"},"Camera input"),(0,i.kt)("p",null,'To change the camera used on iFacialMocap, click on "Open Advanced Setting" and look for the section called "Nvidia Display" (RTX) or "Show/Hide Camera" (Mediapipe), just below these options you should see the name of your camera along with its index number.'),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Sometimes this index can be wrong and your camera might get a different name, this usually happens if you were to plug a new video device before opening the app (i.e. you connected a capture card) or due to camera driver installation."),(0,i.kt)("p",{parentName:"admonition"},"On these situations, you may have selected the correct camera (i.e. Logitech Camera) but you don't get any input."),(0,i.kt)("p",{parentName:"admonition"},"If the demo avatar or camera output is not showing, make sure that:\nA. The camera is not being used by another app\nB. Try out other cameras and see if it works"),(0,i.kt)("p",{parentName:"admonition"},"Sometimes, switching to what would be the wrong input device fixes the issue, for example, changing to ElGato Capture Card starts using your actual webcam.\nMake sure to save the settings once the proper camera has been selected.")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"iFacialMocap might not work with the default Windows drivers. If your camera is not initializing after the troubleshooting above, please look for your webcam or laptop model and install its respective drivers, or try other tracking methods such as ",(0,i.kt)("a",{parentName:"p",href:"https://docs.vrcft.io/docs/hardware/desktop/webcam/foxyface"},"FoxyFace"),".")),(0,i.kt)("h3",{id:"calibration"},"Calibration"),(0,i.kt)("p",null,"You can reset your head, eye and mouth rotations by clicking the ",(0,i.kt)("strong",{parentName:"p"},"Calibration")," button."),(0,i.kt)("p",null,"For the best calibration:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Position your camera where you want it to be (preferably above the monitor)"),(0,i.kt)("li",{parentName:"ol"},'While looking forwards towards the center of your monitor (i.e. towards your VRC desktop cursor), tap the "Calibration" button in the app'),(0,i.kt)("li",{parentName:"ol"},"If using Nvidia broadcast, you should see a demo face shifting in place and looking straight, indicating that the head orientation and face tracking has successfully been reset")),(0,i.kt)("h3",{id:"adjusting-weight-and-smoothing"},"Adjusting Weight and Smoothing"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Most people shouldn't need to mess around with these settings, but feel free to tweak them if you think you can improve something or you'd like a blendshape to be easier to trigger.")),(0,i.kt)("p",null,'Click on "Open Advanced Setting" to open the settings menu. Below the ',(0,i.kt)("em",{parentName:"p"},"Camera settings")," and ",(0,i.kt)("em",{parentName:"p"},"Send Version")," section, you should find the Smoothing options."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"You can increase the smoothing value to reduce jitter, but increasing this too much will introduce latency, so adjust carefully.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Further down on the settings, you can increase or decrease specific blendshape ",(0,i.kt)("strong",{parentName:"p"},"Weight")," ",(0,i.kt)("em",{parentName:"p"},"(how likely it is to trigger a blendshape)"),". If you're going to tweak this, it's recommended to ",(0,i.kt)("strong",{parentName:"p"},"ONLY")," increase the weight value, as other options are aimed towards vtubing apps and might have undesired side effects when using VRCFT.")),(0,i.kt)("h3",{id:"tracked-blendshapes"},"Tracked Blendshapes"),(0,i.kt)("p",null,"Although the app lists all 52 ARKit blendshapes within its settings, ",(0,i.kt)("strong",{parentName:"p"},"Nvidia Broadcast")," does not track the ",(0,i.kt)("em",{parentName:"p"},"tongueOut")," and ",(0,i.kt)("em",{parentName:"p"},"cheekPuff")," blendshapes, and ",(0,i.kt)("strong",{parentName:"p"},"Mediapipe")," may track even less, and expect both tracking methods to have trouble with subtle blendshapes such as ",(0,i.kt)("strong",{parentName:"p"},"mouthShrug")),(0,i.kt)("h3",{id:"pros--cons"},"Pros & Cons"),(0,i.kt)("p",null,"For a Webcam, this is one of the best tracking methods. It's easy to setup, and works universally between Vtubing apps and VRCFT."),(0,i.kt)("p",null,"Compared to ",(0,i.kt)("a",{parentName:"p",href:"https://docs.vrcft.io/docs/hardware/desktop/webcam/foxyface"},"FoxyFace"),", it will track less blendshapes, but should be easier to calibrate and faster to do the initial setup."),(0,i.kt)("p",null,"Finally, compared to an ",(0,i.kt)("a",{parentName:"p",href:"https://docs.vrcft.io/docs/hardware/desktop/iphone"},"iPhone/iPad"),", expect worse results and the need for very good lightning for this to work properly. Apple devices simply work better for Face Tracking."),(0,i.kt)("h2",{id:"module"},"Module"),(0,i.kt)("p",null,"Interested in the source code? Check out the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Shuisho10/VRC_iFacialMocap"},"iFacialMocap module source repository")))}h.isMDXComponent=!0},34144:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/files/vrcft-ef85d22aa5623f99fffc313d379658d2.mdx"}}]);