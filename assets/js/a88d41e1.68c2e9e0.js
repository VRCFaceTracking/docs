"use strict";(self.webpackChunkvrcft_docs=self.webpackChunkvrcft_docs||[]).push([[2579],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(a),c=i,h=u["".concat(s,".").concat(c)]||u[c]||m[c]||l;return a?n.createElement(h,r(r({ref:t},d),{},{components:a})):n.createElement(h,r({ref:t},d))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,r=new Array(l);r[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2922:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=a(7462),i=(a(7294),a(3905));const l={},r="SRanipal (VIVE)",o={unversionedId:"tutorial-modules/sranipal",id:"tutorial-modules/sranipal",title:"SRanipal (VIVE)",description:"Summary",source:"@site/docs/tutorial-modules/sranipal.mdx",sourceDirName:"tutorial-modules",slug:"/tutorial-modules/sranipal",permalink:"/docs/tutorial-modules/sranipal",draft:!1,editUrl:"https://github.com/VRCFaceTracking/docs/edit/master/docs/tutorial-modules/sranipal.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"VRCFaceTracking Modules",permalink:"/docs/tutorial-modules/modules"},next:{title:"Hardware",permalink:"/docs/category/hardware"}},s={},p=[{value:"Summary",id:"summary",level:2},{value:"Set-up",id:"set-up",level:2},{value:"Installation",id:"installation",level:3},{value:"Installing Via Vive Console",id:"installing-via-vive-console",level:4},{value:"Installing Via v1.3.6.5 .zip",id:"installing-via-v1365-zip",level:4},{value:"Installing Via v1.3.1.1 Installer",id:"installing-via-v1311-installer",level:4},{value:"Hardware",id:"hardware",level:3},{value:"Using SRanipal",id:"using-sranipal",level:2},{value:"Calibrating Eye Tracking",id:"calibrating-eye-tracking",level:3},{value:"Uninstalling SRanipal",id:"uninstalling-sranipal",level:2}],d={toc:p},u="wrapper";function m(e){let{components:t,...l}=e;return(0,i.kt)(u,(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"sranipal-vive"},"SRanipal (VIVE)"),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("p",null,"SRanipal is the runtime used to interface with the Vive Facial Tracker and other Vive eye / face tracking related hardware on Windows PCs.\nSRanipal is ",(0,i.kt)("strong",{parentName:"p"},"required software")," for the Vive Facial Tracker but ",(0,i.kt)("strong",{parentName:"p"},"NOT REQUIRED")," for running VRCFT if you are not using Vive hardware."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},'Trivia Fact: SRanipal stands for "',(0,i.kt)("em",{parentName:"p"},"Super Runtime Animation Pal"),'"')),(0,i.kt)("h2",{id:"set-up"},"Set-up"),(0,i.kt)("p",null,"Setup of the SRanipal Module is fairly simple though can be a little confusing depending on your hardware/software configuration.\nPlease read carefully to avoid any issues."),(0,i.kt)("p",null,"There are three methods of installing SRanipal:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Install Vive Console (avaliable on Steam or Vive website)"),(0,i.kt)("li",{parentName:"ol"},"Use the v1.3.6.5 zip of SRanipal in the VRCFT Discord #file-share channel"),(0,i.kt)("li",{parentName:"ol"},"Use the installer of SRanipal v1.3.1.1")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Version 1.3.2.0 is known to unnecessarily hog computer resources. We do not recommend using v1.3.2.0. ")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"In VRCFaceTracking's UE update, the SRanipal module tracking libraries have been updated to the latest binaries.\nConsequently, a SRanipal runtime older than 1.3.6.5 will be incompatible with the default SRanipal tracking module for VRCFT.")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Versions of SRanipal including and after 1.3.6.10 (any version currently packaged with Vive Console) will only work with a Vive Pro series headset connected to the computer.")),(0,i.kt)("p",null,"Thus:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Vive Pro series users should generally use options 1 or 2, with option 3 as a last resort alternative."),(0,i.kt)("li",{parentName:"ul"},"Most other users should use option 2, with option 3 as a last resort alternative.")),(0,i.kt)("h3",{id:"installation"},"Installation"),(0,i.kt)("p",null,"To use the SRanipal Module, you'll need a compatible headset and the ",(0,i.kt)("a",{parentName:"p",href:"https://drive.google.com/drive/folders/1hU1tvOiTHQbT-Ad-wBJ8II8uXkQ8bvvh?usp=share_link"},"SRanipal Runtime")," installed."),(0,i.kt)("h4",{id:"installing-via-vive-console"},"Installing Via Vive Console"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"It is recommended to install ",(0,i.kt)("a",{parentName:"li",href:"https://store.steampowered.com/app/1635730/VIVE_Console_for_SteamVR/"},"Vive Console via Steam")),(0,i.kt)("li",{parentName:"ol"},"After install, run Vive Console once to let it's internal installers run. You never need to run Vive Console again.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Vive Console does take up a lot of space (~1.6Gb), so copying the SRanipal folder (",(0,i.kt)("inlineCode",{parentName:"li"},"Steam\\steamapps\\common\\VIVEDriver\\App\\SRanipal"),") out , then uninstalling Vive Console is another avenue. Note that this will require manual registration of the SRanipal service and drivers as the Vive Console install will remove them.")))),(0,i.kt)("h4",{id:"installing-via-v1365-zip"},"Installing Via v1.3.6.5 .zip"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"   Using SRanipal from this zip will not automatically install the SRanipalService, which means starting VRCFaceTracking or any other\nprogram that uses SRanipal ",(0,i.kt)("strong",{parentName:"p"},"will not start SRanipal automatically"),". Until a workaround is released make sure to ",(0,i.kt)("strong",{parentName:"p"},"run sr_runtime.exe first"),"\nbefore using VRCFaceTracking!")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Download the ",(0,i.kt)("a",{parentName:"li",href:"https://discord.com/channels/849300336128032789/915075185328152606/1017600042837753906"},"SRanipal v1.3.6.5 .zip (Discord Link)")),(0,i.kt)("li",{parentName:"ol"},"Unzip the folder and run ",(0,i.kt)("inlineCode",{parentName:"li"},"DriverInstaller.msi"))),(0,i.kt)("p",null,"An alternative installation method would be to run the v1.3.1.1 (or v.1.3.2.0) installer, then copy the contents of the v1.3.6.5 version into the older version's installation directory.\nThis will keep the service intact while using the newer runtime."),(0,i.kt)("h4",{id:"installing-via-v1311-installer"},"Installing Via v1.3.1.1 Installer"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Download the ",(0,i.kt)("a",{parentName:"li",href:"https://drive.google.com/drive/folders/1hU1tvOiTHQbT-Ad-wBJ8II8uXkQ8bvvh?usp=share_link"},"SRanipal v1.3.1.1 installer")),(0,i.kt)("li",{parentName:"ol"},"Run the installer and complete the installation process"),(0,i.kt)("li",{parentName:"ol"},"Replace the SRanipal VRCFaceTracking module libs with the pre-Vive Focus 3 module versions.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Important:")," The installer for v1.3.1.1 has a known failure point during installation: ",(0,i.kt)("strong",{parentName:"p"},"Error 1001"),". It is not entirely clear why it happens."),(0,i.kt)("div",{style:{width:"50%",height:"auto",margin:"auto",display:"block"}},(0,i.kt)("img",{src:a(521).Z,alt:"sranipal error 1001"})),(0,i.kt)("p",null,"In case you encounter this error when attempting to install SRanipal v1.3.1.1, you can either"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Ignore the warning message, pull computer power so the installer doesn't uninstall anything, and use v1.3.1.1 anyways because Error 1001 is meaningless, or"),(0,i.kt)("li",{parentName:"ol"},"Attempt ",(0,i.kt)("a",{parentName:"li",href:"#uninstalling-sranipal"},"uninstalling sranipal")," and seeing if it installs correctly after"),(0,i.kt)("li",{parentName:"ol"},"Install SRanipal via one of the other options (Vive Console or the v1.3.6.5 zip)")),(0,i.kt)("h3",{id:"hardware"},"Hardware"),(0,i.kt)("p",null,"The SRanipal Module is only compatible with the following hardware"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Headset"),(0,i.kt)("th",{parentName:"tr",align:null},"Eye Tracking"),(0,i.kt)("th",{parentName:"tr",align:null},"Facial Tracking"),(0,i.kt)("th",{parentName:"tr",align:null},"Minimum SRanipal Version"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Vive Pro Eye"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2705")," Yes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u274c")," No"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1.3.0.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Droolon F1"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2705")," Yes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u274c")," No"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1.3.0.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Vive Facial Tracker"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u274c")," No"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2705")," Yes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1.3.0.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Vive Focus 3 (with both add-ons)"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2705")," Yes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2705")," Yes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"1.3.6.8"))))),(0,i.kt)("h2",{id:"using-sranipal"},"Using SRanipal"),(0,i.kt)("p",null,"Once SRanipal initializes, the tray icon can show a few possible states indicating the status of SRanipal-compatible hardware connected to the computer."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Area/ Color"),(0,i.kt)("th",{parentName:"tr",align:null},"Eye"),(0,i.kt)("th",{parentName:"tr",align:null},"Mouth"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\u2b1b")," Black (Dark)"),(0,i.kt)("td",{parentName:"tr",align:null},"Eye tracker (VPE) was not detected"),(0,i.kt)("td",{parentName:"tr",align:null},"Vive Facial Tracker was not detected")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\ud83d\udfe7")," Orange"),(0,i.kt)("td",{parentName:"tr",align:null},"Eye tracker (VPE) was detected, currently uninitialized"),(0,i.kt)("td",{parentName:"tr",align:null},"Vive Facial Tracker was detected, currently uninitialized")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\ud83d\udfe9")," Green"),(0,i.kt)("td",{parentName:"tr",align:null},"Eye tracker (VPE) was initialized and sending eye tracking data"),(0,i.kt)("td",{parentName:"tr",align:null},"Vive Facial Tracker was initialized and sending face tracking data")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\ud83d\udfea")," Purple"),(0,i.kt)("td",{parentName:"tr",align:null},"Eye tracker (Focus 3) successful connection"),(0,i.kt)("td",{parentName:"tr",align:null},"Face Tracker (Focus 3) successful connection")))),(0,i.kt)("p",null,"To actually use your Vive hardware with VRChat, you will need to use the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/regzo2/VRCFaceTracking/releases/download/v5.0.0-pre-2/CustomLibs.zip"},"SRanipal VRCFT Module")," with the VRCFaceTracking software.\nFor more information on modules and how to use them, see ",(0,i.kt)("a",{parentName:"p",href:"/docs/tutorial-modules/modules"},"Modules"),"."),(0,i.kt)("p",null,"Assuming there are no connection issues with the hardware, the connection hardware components (eye, face, or both) should be initialized by VRCFT after a few seconds.\nNote that upon first initlization of the Vive Facial Tracker and Vive Pro Eye in SteamVR it may prompt you for permission.\nMake sure to accept to the user agreement."),(0,i.kt)("h3",{id:"calibrating-eye-tracking"},"Calibrating Eye Tracking"),(0,i.kt)("p",null,'After installing SRanipal, a new app will be added to your SteamVR dashboard called "Vive Pro Eye Calibration". This app is ',(0,i.kt)("strong",{parentName:"p"},"only for Vive Pro Eye")," (and the Droolon F1 module).\nThe Vive Focus 3 eye tracker is calibrated with the calibration sequence accessible from the standalone settings menu.\nEye tracking calibration is not required to be performed frequently, but should be done after initial SRanipal software installation, after a change to the headset (i.e. change the facial interface), or when switching the headset between users.\nNote that the calibration is only for ",(0,i.kt)("a",{parentName:"p",href:"/docs/intro"},"gaze tracking"),"."),(0,i.kt)("p",null,'Start calibration by making sure "Use Eye Tracking" is enabled, then hitting the "Calibrate" button in the app. Follow the in-app instructions to finish calibrating the eye gaze tracking.  '),(0,i.kt)("h2",{id:"uninstalling-sranipal"},"Uninstalling SRanipal"),(0,i.kt)("p",null,'To uninstall SRanipal, uninstall Vive Console (if installed that route) or run the SRanipal installer .exe (v1.3.1.1) and select the "uninstall" option.'),(0,i.kt)("p",null,"In case SRanipal seems to have some issues (especially after having mixed different versions) and the SRanipal installer seems to be unable to uninstall SRanipal, follow these instructions from Vive Admin C.T.:\n",(0,i.kt)("a",{parentName:"p",href:"https://forum.htc.com/topic/5642-sranipal-getting-started-steps/?do=findComment&comment=46845"},"https://forum.htc.com/topic/5642-sranipal-getting-started-steps/?do=findComment&comment=46845")))}m.isMDXComponent=!0},521:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vive_installer_error_1001-18cb261602c9d84b0b93cc57b7f5406d.png"}}]);